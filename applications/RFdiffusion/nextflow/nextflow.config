profiles {

  awsbatch_single_node {

    aws.region = 'us-east-2'
    workDir    = 's3://srilekha-new-s3/work-motif-demo'

    executor {
      // How many jobs Nextflow can submit to Batch at once
      queueSize = 16
    }

    process {
      executor  = 'awsbatch'

      // Your existing Batch queue name
      queue     = 'srilekha_8_11_queue_motif'

      // Docker image with RFdiffusion installed
      container = 'docker.io/809314/rfdiff-aws-rec:latest'

      cpus      = 32
      memory    = '60 GB'

      withName: runMotifScaffolding {
        // How many RFdiffusion jobs can run in parallel
        maxForks = 8
      }
    }
  }
}

